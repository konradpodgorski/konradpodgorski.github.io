
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Konrad Podgórski - Web Developer</title>
  <meta name="author" content="Konrad Podgórski">

  
  <meta name="description" content="http://serverfault.com/questions/413211/cannot-install-postgres-9-1-on-a-fresh-debian-6-0
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://konradpodgorski.com/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://konradpodgorski.com/atom.xml" rel="alternate" title="Konrad Podgórski - Web Developer" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-21178598-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Konrad Podgórski - Web Developer</a></h1>
  
    <h2>Personal blog about developing web applications with Symfony, Node JS and Angular JS</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://konradpodgorski.com/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:konradpodgorski.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/skills">Skills</a></li>
  <li><a href="/about-me">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">

  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2012/11/15/postgresql-9-1-on-debian-6-0/">Postgresql 9.1 on Debian 6.0</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2012-11-15T00:00:00+01:00" datetime="2012-11-15T00:00:00+01:00" pubdate data-updated="true">Nov 15<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/11/15/postgresql-9-1-on-debian-6-0/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2012/11/15/postgresql-9-1-on-debian-6-0/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://serverfault.com/questions/413211/cannot-install-postgres-9-1-on-a-fresh-debian-6-0">http://serverfault.com/questions/413211/cannot-install-postgres-9-1-on-a-fresh-debian-6-0</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2012/07/26/capifony-fix-for-deployment-on-servers-with-strict-permission-settings/">Capifony Fix for Deployment on Servers With Strict Permission Settings</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2012-07-26T00:00:00+02:00" datetime="2012-07-26T00:00:00+02:00" pubdate data-updated="true">Jul 26<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/07/26/capifony-fix-for-deployment-on-servers-with-strict-permission-settings/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2012/07/26/capifony-fix-for-deployment-on-servers-with-strict-permission-settings/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some servers (for instance VPS I use) doesn’t allow to run script if it’s group writeable.</p>

<p>Solution is to run chmod 644 on files and chmod 755 on directories inside current release. You could use this one liner: Setting permissions for files and directories</p>

<p>BUT it’s really pain in ass to do every deploy, not to mention few more seconds of downtime. To fix this add to your deploy.rb following lines</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Fix persmissions on VPS</span>
</span><span class='line'><span class="n">after</span> <span class="s2">&quot;deploy:update_code&quot;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">capifony_pretty_print</span> <span class="s2">&quot;--&gt; Fixing permissions&quot;</span>
</span><span class='line'>  <span class="n">run</span> <span class="s2">&quot;cd </span><span class="si">#{</span><span class="n">latest_release</span><span class="si">}</span><span class="s2"> &amp;&amp; find . -type f -exec chmod 644 {} </span><span class="se">\\</span><span class="s2">;&quot;</span>
</span><span class='line'>  <span class="n">run</span> <span class="s2">&quot;cd </span><span class="si">#{</span><span class="n">latest_release</span><span class="si">}</span><span class="s2"> &amp;&amp; find . -type d -exec chmod 755 {} </span><span class="se">\\</span><span class="s2">;&quot;</span>
</span><span class='line'>  <span class="n">capifony_puts_ok</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is sample deploy.rb file with above fix, don’t use it without thinking :&ndash;)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># deploy.rb</span>
</span><span class='line'>
</span><span class='line'><span class="n">set</span>   <span class="ss">:application</span><span class="p">,</span>   <span class="s2">&quot;My App&quot;</span>
</span><span class='line'><span class="n">set</span>   <span class="ss">:deploy_to</span><span class="p">,</span>     <span class="s2">&quot;/var/www/my-app.com&quot;</span>
</span><span class='line'><span class="n">set</span>   <span class="ss">:domain</span><span class="p">,</span>        <span class="s2">&quot;my-app.com&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">set</span>   <span class="ss">:scm</span><span class="p">,</span>           <span class="ss">:git</span>
</span><span class='line'><span class="n">set</span>   <span class="ss">:repository</span><span class="p">,</span>    <span class="s2">&quot;ssh-gitrepo-domain.com:/path/to/repo.git&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">role</span>  <span class="ss">:web</span><span class="p">,</span>           <span class="n">domain</span>
</span><span class='line'><span class="n">role</span>  <span class="ss">:app</span><span class="p">,</span>           <span class="n">domain</span>
</span><span class='line'><span class="n">role</span>  <span class="ss">:db</span><span class="p">,</span>            <span class="n">domain</span><span class="p">,</span> <span class="ss">:primary</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span><span class='line'>
</span><span class='line'><span class="n">set</span>   <span class="ss">:use_sudo</span><span class="p">,</span>      <span class="kp">false</span>
</span><span class='line'><span class="n">set</span>   <span class="ss">:keep_releases</span><span class="p">,</span> <span class="mi">3</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Fix persmissions on VPS</span>
</span><span class='line'><span class="n">after</span> <span class="s2">&quot;deploy:update_code&quot;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">capifony_pretty_print</span> <span class="s2">&quot;--&gt; Fixing permissions&quot;</span>
</span><span class='line'>  <span class="n">run</span> <span class="s2">&quot;cd </span><span class="si">#{</span><span class="n">latest_release</span><span class="si">}</span><span class="s2"> &amp;&amp; find . -type f -exec chmod 644 {} </span><span class="se">\\</span><span class="s2">;&quot;</span>
</span><span class='line'>  <span class="n">run</span> <span class="s2">&quot;cd </span><span class="si">#{</span><span class="n">latest_release</span><span class="si">}</span><span class="s2"> &amp;&amp; find . -type d -exec chmod 755 {} </span><span class="se">\\</span><span class="s2">;&quot;</span>
</span><span class='line'>  <span class="n">capifony_puts_ok</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2012/07/13/setting-permissions-for-files-and-directories/">Setting Permissions for Files and Directories</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2012-07-13T00:00:00+02:00" datetime="2012-07-13T00:00:00+02:00" pubdate data-updated="true">Jul 13<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/07/13/setting-permissions-for-files-and-directories/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2012/07/13/setting-permissions-for-files-and-directories/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recursively sets permission 644 to all files, and 755 to all directories within current location.</p>

<p>One liner for my reference :)</p>

<pre><code>find . -type f -exec chmod 644 {} \;; find . -type d -exec chmod 755 {} \;
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2012/04/09/removing-strong-password-policy-in-windows-2008/">Removing Strong Password Policy in Windows 2008</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2012-04-09T00:00:00+02:00" datetime="2012-04-09T00:00:00+02:00" pubdate data-updated="true">Apr 9<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/04/09/removing-strong-password-policy-in-windows-2008/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2012/04/09/removing-strong-password-policy-in-windows-2008/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>You can use gpedit.msc to change the password policy, also you can change the domain policy if you are a member of a domain to change it that way as well.</p>

<p>You can run gpedit.msc by doing the following.</p>

<ol>
<li><p>click on the start menu, click run, type in gpedit.msc then press Enter.</p></li>
<li><p>Locate the “Local Computer policy / Computer Configuration / Windows Settings / Security settings / Password Policy</p></li>
<li><p>Change the keys you wish to change according to your existing password policies in your work place.</p></li>
</ol>


<p>source: <a href="http://www.experts-exchange.com/Microsoft/Development/MS-SQL-Server/SQL-Server-2005/Q_23612846.html">http://www.experts-exchange.com/Microsoft/Development/MS-SQL-Server/SQL-Server-2005/Q_23612846.html</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2012/01/24/ubuntu-configuration-for-symfony-developer/">Ubuntu Configuration for Symfony Developer</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2012-01-24T02:40:00+01:00" datetime="2012-01-24T02:40:00+01:00" pubdate data-updated="true">Jan 24<span>th</span>, 2012</time>
        
           | <a href="/blog/2012/01/24/ubuntu-configuration-for-symfony-developer/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2012/01/24/ubuntu-configuration-for-symfony-developer/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/wp-content/uploads/2012/01/Symfony_with_Ubuntu.png"></p>

<p>This is complete full instruction how to configure Ubuntu 11.10 / 11.04 fresh after installation to start developing with Symfony 2 Framework.</p>

<p>I haven’t tested it with Ubuntu 10.10 / 10.04 but it should work just fine.</p>

<p>Installation of lamp server</p>

<pre><code>sudo apt-get install lamp-package^
</code></pre>

<p>now some required packages</p>

<pre><code>sudo apt-get install php5-sqlite php5-intl
</code></pre>

<p>and optional but recommended</p>

<pre><code>sudo apt-get install php-apc php5-xdebug
</code></pre>

<p>Required changes to php.ini</p>

<p>Remember to modify both php.ini files, /etc/php5/apache2/php.ini is for apache, second one /etc/php5/cli/php.ini is used for terminal commands</p>

<pre><code>sudo gedit /etc/php5/apache2/php.ini
</code></pre>

<p><strong>/etc/php5/apache2/php.ini</strong></p>

<pre><code>...

[Date]
; Defines the default timezone used by the date functions
; http://php.net/date.timezone
date.timezone = "Europe/Warsaw"

...
</code></pre>

<p>Repeat this for <strong>/etc/php5/cli/php.ini</strong></p>

<pre><code>sudo gedit /etc/php5/cli/php.ini
</code></pre>

<p>Apache2 Modules</p>

<p>Now it’s time for apache2 modules, we will need to install mod rewrite</p>

<pre><code>sudo a2enmod install rewrite
</code></pre>

<p>Restart Apache2</p>

<pre><code>sudo service apache2 restart
</code></pre>

<p>Fixing permissions – ACL</p>

<p>This is very important step, without this either apache (while viewing in browser) or your user (while clearing cache from CLI) wont be able to write in cache and logs directories</p>

<p>First try this, if it won’t work read bellow, if it does – congratulations! You can skip this step</p>

<pre><code>sudo setfacl -R -m u:www-data:rwx -m u:`whoami`:rwx app/cache app/logs
sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx app/cache app/logs
</code></pre>

<p>If above doesn’t work</p>

<pre><code>sudo apt-get install acl
</code></pre>

<p>First we need to enable ACL support, to do this edit /etc/fstab file. You have to add “acl,” after “ext4″ and before “errors”. Please note that your fstab file might differ. Edit wisely!</p>

<p><img src="/wp-content/uploads/2012/01/editing-fstab-to-get-acl-working-in-ubuntu.png"></p>

<p>Reboot computer for changes to take effect. Alternatively if you keep project files on partition other than system one you could remount it but restarting computer would be probably easier :)</p>

<p>Now commands mentioned in official book will work</p>

<pre><code>sudo setfacl -R -m u:www-data:rwx -m u:`whoami`:rwx app/cache app/logs
sudo setfacl -dR -m u:www-data:rwx -m u:`whoami`:rwx app/cache app/logs
</code></pre>

<p>more information about setfacl: <a href="http://symfony.com/doc/current/book/installation.html#configuration-and-setup">http://symfony.com/doc/current/book/installation.html#configuration-and-setup</a></p>

<p>Other common problems</p>

<p>If you get following warning in terminal, please see this post</p>

<pre><code>PHP Warning: PHP Startup: Unable to load dynamic library ‘/usr/lib/php5/20090626/sqlite.so’
</code></pre>

<p><a href="http://konradpodgorski.com/blog/2011/12/27/fix-php-warning-php-startup-unable-to-load-dynamic-library-usrlibphp520090626sqlite-so/">http://konradpodgorski.com/blog/2011/12/27/fix-php-warning-php-startup-unable-to-load-dynamic-library-usrlibphp520090626sqlite-so/</a></p>

<p>reference</p>

<p><a href="http://symfony.com/doc/current/book/installation.html#configuration-and-setup">http://symfony.com/doc/current/book/installation.html#configuration-and-setup</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2011/12/29/how-to-symfony-2-please-install-the-intl-extension-for-full-localization-capabilities/">[How to] Symfony 2, Please Install the ‘intl’ Extension for Full Localization Capabilities</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2011-12-29T00:00:00+01:00" datetime="2011-12-29T00:00:00+01:00" pubdate data-updated="true">Dec 29<span>th</span>, 2011</time>
        
           | <a href="/blog/2011/12/29/how-to-symfony-2-please-install-the-intl-extension-for-full-localization-capabilities/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2011/12/29/how-to-symfony-2-please-install-the-intl-extension-for-full-localization-capabilities/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Full error message</p>

<pre><code>The Symfony\Component\Locale\Stub\StubNumberFormatter::parse() method’s argument $type value 2 behavior is not implemented. Please install the ‘intl’ extension for full localization capabilities.
</code></pre>

<p>To fix this install php5-intl extension</p>

<h3>Ubuntu</h3>

<pre><code>sudo apt-get install php5-intl
</code></pre>

<h3>Fedora/Cent OS</h3>

<pre><code>sudo yum install php-intl
</code></pre>

<p>Don’t forget to restart apache2</p>

<pre><code>sudo service apache2 restart
</code></pre>

<p>or</p>

<pre><code>sudo service httpd restart
</code></pre>

<p>Let me know if it was helpful</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2011/12/27/fix-php-warning-php-startup-unable-to-load-dynamic-library-usrlibphp520090626sqlite-so/">[Fix] PHP Warning: PHP Startup: Unable to Load Dynamic Library ‘/usr/lib/php5/20090626/sqlite.so’</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2011-12-27T17:22:00+01:00" datetime="2011-12-27T17:22:00+01:00" pubdate data-updated="true">Dec 27<span>th</span>, 2011</time>
        
           | <a href="/blog/2011/12/27/fix-php-warning-php-startup-unable-to-load-dynamic-library-usrlibphp520090626sqlite-so/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2011/12/27/fix-php-warning-php-startup-unable-to-load-dynamic-library-usrlibphp520090626sqlite-so/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>PHP Warning: PHP Startup: Unable to load dynamic library ‘/usr/lib/php5/20090626/sqlite.so’</strong></p>

<p>To fix this annoying warning in CLI console every time I ran php script I had to remove unused <strong>sqlite.ini</strong> file from <strong>/etc/php5/conf.d/</strong></p>

<p>use this to remove this file</p>

<pre><code>sudo rm /etc/php5/conf.d/sqlite.ini
</code></pre>

<p>full error message</p>

<blockquote><p>PHP Warning: PHP Startup: Unable to load dynamic library ‘/usr/lib/php5/20090626/sqlite.so’ – /usr/lib/php5/20090626/sqlite.so: cannot open shared object file: No such file or directory in Unknown on line 0</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2011/12/27/how-to-no-encoder-has-been-configured-for-account/">[How to] No Encoder Has Been Configured for Account</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2011-12-27T00:00:00+01:00" datetime="2011-12-27T00:00:00+01:00" pubdate data-updated="true">Dec 27<span>th</span>, 2011</time>
        
           | <a href="/blog/2011/12/27/how-to-no-encoder-has-been-configured-for-account/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2011/12/27/how-to-no-encoder-has-been-configured-for-account/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I presume you’re using FOSUserBundle with Symfony2, make sure you added the following lines to <code>app/config/security.yml</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="c1"># app/config/security.yml</span>
</span><span class='line'><span class="l-Scalar-Plain">security</span><span class="p-Indicator">:</span>
</span><span class='line'>    <span class="l-Scalar-Plain">encoders</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">FOS\UserBundle\Model\UserInterface</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sha512</span>
</span></code></pre></td></tr></table></div></figure>


<p>It should look like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="c1"># app/config/security.yml</span>
</span><span class='line'><span class="l-Scalar-Plain">security</span><span class="p-Indicator">:</span>
</span><span class='line'>    <span class="l-Scalar-Plain">encoders</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">Symfony\Component\Security\Core\User\User</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">plaintext</span>
</span><span class='line'>        <span class="l-Scalar-Plain">FOS\UserBundle\Model\UserInterface</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sha512</span>
</span><span class='line'>
</span><span class='line'>    <span class="l-Scalar-Plain">role_hierarchy</span><span class="p-Indicator">:</span>
</span><span class='line'>        <span class="l-Scalar-Plain">ROLE_ADMIN</span><span class="p-Indicator">:</span>       <span class="l-Scalar-Plain">ROLE_USER</span>
</span><span class='line'>        <span class="l-Scalar-Plain">ROLE_SUPER_ADMIN</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">ROLE_USER</span><span class="p-Indicator">,</span> <span class="nv">ROLE_ADMIN</span><span class="p-Indicator">,</span> <span class="nv">ROLE_ALLOWED_TO_SWITCH</span><span class="p-Indicator">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Other possibility might be that you’re loading bundles in a wrong order. Make sure that SecurityBundle is loaded before FOSUserBundle</p>

<p>AppKernel</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">new</span> <span class="nx">Symfony\Bundle\SecurityBundle\SecurityBundle</span><span class="p">,</span>
</span><span class='line'><span class="o">...</span><span class="p">,</span>
</span><span class='line'><span class="k">new</span> <span class="nx">FOS\UserBundle\FOSUserBundle</span><span class="p">(),</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2011/10/07/how-to-change-wp-content-folder-name-in-wordpress/">How to Change Wp-content Folder Name in WordPress</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2011-10-07T00:00:00+02:00" datetime="2011-10-07T00:00:00+02:00" pubdate data-updated="true">Oct 7<span>th</span>, 2011</time>
        
           | <a href="/blog/2011/10/07/how-to-change-wp-content-folder-name-in-wordpress/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2011/10/07/how-to-change-wp-content-folder-name-in-wordpress/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>wp-content folder contains WordPress themes and plugins, or we just call them extensions, which makes your WordPress different from others.</p>

<p>More or less, we all need to install some to enhance our WordPress system, just like we install softwares on our OS, but it also bring risks. Do not install any unknown extension unless you know exactly what it’s doing.We all heard about viruses and trojans, right? Although WP extensions are open source, people might not take the time to read the code line by line. On the other hand, writing secure code is a skill not every developer learns that well, so it’s possible that a useful plugin becomes a backdoor for hackers. So, be careful when you install something new.</p>

<h2>Renaming wp-content folder</h2>

<p>I think WP should make this step mandatory at the beginning, and it’s also helpful for hiding that your website is powered by Wordpress.</p>

<p>Before renaming the wp-content folder, I should mention that some plugins and themes use “wp-content” directly in the code. In such cases, these extensions should be fixed before changing wp-content name.</p>

<blockquote><p>To check if plugins your wordpress is using are written well and compatible with WordPress API you can run FIND function plugins and themes directory for “wp-content” term. There shouldn’t be any because plugin developers should use content_url() function or WP_CONTENT_DIR constant. Every decent coding IDE offers &ldquo;Find in project&rdquo; function.</p></blockquote>

<p>Open the wp-config.php file in the root folder, and add these lines before this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">require_once</span> <span class="nx">ABSPATH</span> <span class="o">.</span> <span class="err">‘</span><span class="nx">wp</span><span class="o">-</span><span class="nx">settings</span><span class="o">.</span><span class="nx">php</span><span class="err">’</span>
</span></code></pre></td></tr></table></div></figure>


<p>normally the last line</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nb">define</span> <span class="p">(</span><span class="s1">&#39;WP_CONTENT_FOLDERNAME&#39;</span><span class="p">,</span> <span class="s1">&#39;your-content&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nb">define</span> <span class="p">(</span><span class="s1">&#39;WP_CONTENT_DIR&#39;</span><span class="p">,</span> <span class="nx">ABSPATH</span> <span class="o">.</span> <span class="nx">WP_CONTENT_FOLDERNAME</span><span class="p">)</span> <span class="p">;</span>
</span><span class='line'><span class="nb">define</span> <span class="p">(</span><span class="s1">&#39;WP_CONTENT_URL&#39;</span><span class="p">,</span> <span class="s1">&#39;http://your-domain/&#39;</span><span class="o">.</span><span class="nx">WP_CONTENT_FOLDERNAME</span><span class="p">);</span>
</span><span class='line'><span class="nb">define</span> <span class="p">(</span><span class="s1">&#39;WP_PLUGIN_DIR&#39;</span><span class="p">,</span> <span class="nx">WP_CONTENT_DIR</span> <span class="o">.</span> <span class="s1">&#39;/plugins&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nb">define</span> <span class="p">(</span><span class="s1">&#39;WP_PLUGIN_URL&#39;</span><span class="p">,</span> <span class="nx">WP_CONTENT_URL</span><span class="o">.</span><span class="s1">&#39;/plugins&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Replace <code>your-content</code> with a new name you like, and replace <code>your-domain</code> with your site domain, then, you can rename <code>wp-content</code> folder to the new name.</p>

<h2>Tip for theme and plugin developers</h2>

<p>In your code use content_url() function instead WP_CONTENT_URL, otherwise sooner or later you or some of your clients will run into problems with SSL certificate</p>

<p><a href="http://codex.wordpress.org/Function_Reference/content_url">http://codex.wordpress.org/Function_Reference/content_url</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" itemprop="name" ><a href="/blog/2011/10/03/postgresql-ssh-console-reference-for-dump-and-restore-database/">PostgreSQL Full Backup and Restore Reference</a></h1>
    
    
      <p class="meta">
        








  


<time itemprop="datePublished" content="2011-10-03T16:23:00+02:00" datetime="2011-10-03T16:23:00+02:00" pubdate data-updated="true">Oct 3<span>rd</span>, 2011</time>
        
           | <a href="/blog/2011/10/03/postgresql-ssh-console-reference-for-dump-and-restore-database/#disqus_thread"
             data-disqus-identifier="http://konradpodgorski.com/blog/2011/10/03/postgresql-ssh-console-reference-for-dump-and-restore-database/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Here is a list of commands used by me most frequently to manage importing/exporting databases in PostgreSql using console.</p>

<p>Feel free to enhance them by creating automatic scripts. Sample codes in comments are welcome :)</p>

<h2>Full Backup selected database using pg_dump in PostreSQL</h2>

<p>example usage:</p>

<pre><code>pg_dump -i -h localhost -p 5432 -U postgres -F t -b -v -f "~/backups/backup-file.backup" database_name_to_backup
</code></pre>

<p>used arguments</p>

<pre><code>-i, –ignore-version proceed even when server version mismatches. Useful while migrating data between servers.
-h localhost, host to connect, can be IP address
-p 5432, default port used by PostgreSQL
-U postgres, this is default username, make sure user has rights to backup database
-F t, -format used for backup, I suggest always using "t" (tar), other options are listed below
-b, –blobs include large objects in dump
-v, –verbose
-f "~/backups/test-database.backup", file where backup will be stored
database_name_to_backup, database name which we want to backup
</code></pre>

<p><em>in windows environment use pg_dump.exe instead</em></p>

<p>If you get the following error:</p>

<blockquote><p>pg_dump: [tar archiver] could not open TOC file &ldquo;~/backups/test-database.backup&rdquo; for output: No such file or directory</p></blockquote>

<p>There are 2 possible causes to this problem</p>

<ul>
<li>Change “~/backups/test-database.backup” to “/home/ec2-user/backups/test-database.backup”</li>
<li>Create directory “/home/ec2-user/backups”, backup file is created automatically but directories are not!</li>
</ul>


<p>This is just an example of a correct path to represent your home directory. ec2-user is default user for Amazon EC2 instances.</p>

<h3>Complete help for pg_dump</h3>

<p>To get a list of commands for pg_dump just type</p>

<pre><code>pg_dump -?

-p, –port=PORT database server port number
-i, –ignore-version proceed even when server version mismatches
-h, –host=HOSTNAME database server host or socket directory
-U, –username=NAME connect as specified database user
-W, –password force password prompt (should happen automatically)
-d, –dbname=NAME connect to database name
-v, –verbose verbose mode
-F, –format=c|t|p output file format (custom, tar, plain text)
-c, –clean clean (drop) schema prior to create
-b, –blobs include large objects in dump
-v, –verbose verbose mode
-f, –file=FILENAME output file name
</code></pre>

<h2>Restore, load data using pg_restore</h2>

<pre><code>pg_restore -i -h localhost -p 5432 -U postgres -d old_db -v "~/backups/backup-file.backup"
</code></pre>

<p>To get a list of commands for pg_restore just type</p>

<pre><code>pg_restore -?



-p, –port=PORT database server port number
-i, –ignore-version proceed even when server version mismatches
-h, –host=HOSTNAME database server host or socket directory
-U, –username=NAME connect as specified database user
-W, –password force password prompt (should happen automatically)
-d, –dbname=NAME connect to database name
-v, –verbose verbose mode
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/25/solution-to-couldnt-find-constant-monolog-logger-debug/">[Solution] Couldn&#8217;t Find Constant Monolog\Logger::DEBUG</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/29/how-to-validate-emails-outside-of-form-with-symfony-validator-component/">How to Validate Emails Outside of Form With Symfony Validator Component</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/23/guide-how-to-configure-server-for-symfony/">Step by Step Guide How to Configure Server for PHP / Symfony Project</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/22/method-getflashes-for-object-symfony-slash-component-slash-httpfoundation-slash-session-slash-session-does-not-exist/">Method &#8220;getFlashes&#8221; for Object &#8220;Symfony\Component\HttpFoundation\Session\Session&#8221; Does Not Exist</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/21/how-i-migrated-my-blog-from-wordpress-to-octopress/">How I Migrated My Blog From Wordpress to Octopress</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/konradpodgorski">@konradpodgorski</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'konradpodgorski',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/114997465791213403444?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Konrad Podgórski -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'konradpodgorski';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
